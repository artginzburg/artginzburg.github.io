{"version":3,"sources":["images/avatar.jpg","utils/styles.js","functions/makeId.js","functions/makeEmpty.js","components/HiddenWords/HiddenWords.jsx","functions/findLongestString.js","hooks/useWindowSize.js","hooks/useTimeoutLimitedEffect.js","components/Home/Home.jsx","App.jsx","reportWebVitals.js","index.jsx"],"names":["linkColor","color","characters","charactersLength","length","makeId","result","i","push","charAt","Math","floor","random","makeEmptyArray","Array","trunc","fill","WORD_INDEX_SEPARATOR","MAXIMUM_BOARD_SIZE","initialBoard","width","height","makeIdMatrix","makeHiddenWords","words","arr","longestWordLength","reduce","a","b","quantity","randomGrid","map","makeEmptyMatrix","forEach","word","wordIndex","shouldMoveRight","shouldMoveDown","randomStartingWidth","randomStartingHeight","wordCharacters","split","randomGridReplaced","initialVerticalCell","currentHorizontalCell","currentVerticalCell","char","currentGridLine","index","character","replaceArrayCenter","mainArray","insertedArray","arrayToReturn","middleIndex","currentIndexOfInsertedArray","currentElementOfInsertedArray","trim","HiddenWords","useState","size","setSize","updateSize","window","innerWidth","innerHeight","useLayoutEffect","addEventListener","removeEventListener","useWindowSize","hiddenWords","setHiddenWords","recalculateHiddenWords","useCallback","isMobile","newWidth","newHeight","mainMatrix","insertedMatrix","matrixToReturn","currentIndexOfInsertedMatrix","currentArrayOfMainMatrix","currentArrayOfInsertedMatrix","replaceMatrixCenter","reactCallback","timeout","limiter","useRef","useEffect","clearTimeout","current","setTimeout","useTimeoutLimitedEffect","className","onDoubleClick","row","rowIndex","column","columnIndex","id","customStyles","github","telegram","Home","author","name","src","avatar","alt","href","target","rel","style","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.72514ea7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/avatar.665f1a88.jpg\";","export function linkColor(color) {\n  return { '--link-color': color };\n}\n","const characters = 'abcdefghijklmnopqrstuvwxyz0123456789';\nconst charactersLength = characters.length;\n\nexport function makeId(length) {\n  const result = [];\n  let i = 0;\n  while (i < length) {\n    result.push(characters.charAt(Math.floor(Math.random() * charactersLength)));\n    i++;\n  }\n  return result;\n}\n\nexport function makeIdMatrix(width, height) {\n  const result = [];\n  let i = 0;\n  while (i < height) {\n    result.push(makeId(width));\n    i++;\n  }\n  return result;\n}\n","export function makeEmptyArray(length) {\n  return Array(Math.trunc(length)).fill();\n}\n\nexport function makeEmptyMatrix(width, height) {\n  return makeEmptyArray(height).map(() => makeEmptyArray(width));\n}\n","import { useCallback, useState } from 'react';\n\nimport { makeIdMatrix } from '../../functions/makeId';\nimport { makeEmptyMatrix } from '../../functions/makeEmpty';\nimport { findLongestString } from '../../functions/findLongestString';\n\nimport { useTimeoutLimitedEffect } from '../../hooks/useTimeoutLimitedEffect';\nimport { useWindowSize } from '../../hooks/useWindowSize';\n\nimport './HiddenWords.scss';\n\nconst WORD_INDEX_SEPARATOR = '禕';\nconst MAXIMUM_BOARD_SIZE = 30;\n\nconst initialBoard = makeIdMatrix(MAXIMUM_BOARD_SIZE, MAXIMUM_BOARD_SIZE);\n\nfunction makeHiddenWords(words, width, height) {\n  const longestWordLength = findLongestString(words).length;\n\n  const length = longestWordLength > width ? longestWordLength : width;\n  const quantity = longestWordLength > height ? longestWordLength : height;\n\n  let randomGrid = makeEmptyMatrix(length, quantity);\n\n  words.forEach((word, wordIndex) => {\n    const shouldMoveRight = Math.random() > 0.5;\n    const shouldMoveDown = !shouldMoveRight || Math.random() > 0.5;\n\n    const randomStartingWidth = shouldMoveRight\n      ? Math.floor(Math.random() * (length - longestWordLength + 1))\n      : Math.floor(Math.random() * (length - 1));\n\n    const randomStartingHeight = shouldMoveDown\n      ? Math.floor(Math.random() * (quantity - longestWordLength + 1))\n      : Math.floor(Math.random() * (quantity - 1));\n\n    const wordCharacters = word.split('');\n\n    const randomGridReplaced = [];\n\n    const initialVerticalCell = randomStartingHeight;\n\n    let currentHorizontalCell = randomStartingWidth;\n    let currentVerticalCell = initialVerticalCell;\n\n    for (let i = 0; i < quantity; i++) {\n      const char = wordCharacters[i - initialVerticalCell];\n\n      let currentGridLine = randomGrid[i];\n\n      if (currentGridLine) {\n        if (char && currentVerticalCell === i) {\n          if (shouldMoveDown) {\n            currentGridLine[currentHorizontalCell] = `${wordIndex}${WORD_INDEX_SEPARATOR}${char}`;\n          } else {\n            for (let index = 0; index < wordCharacters.length; index++) {\n              const character = wordCharacters[index];\n              currentGridLine[\n                currentHorizontalCell++\n              ] = `${wordIndex}${WORD_INDEX_SEPARATOR}${character}`;\n            }\n          }\n\n          randomGridReplaced.push(currentGridLine);\n\n          if (shouldMoveRight) {\n            currentHorizontalCell++;\n          }\n          if (shouldMoveDown) {\n            currentVerticalCell++;\n          }\n        } else {\n          randomGridReplaced.push(currentGridLine);\n        }\n      } else {\n        // TODO: currentGridLine sometimes gets `undefined` here on small screens — and last character of a long word gets clipped. Really strange, shouldn't happen.\n        // console.log(randomGrid);\n        // console.log(i);\n      }\n    }\n\n    randomGrid = randomGridReplaced;\n  });\n  return randomGrid;\n}\n\nfunction replaceArrayCenter(mainArray, insertedArray) {\n  const arrayToReturn = [...mainArray];\n  if (!insertedArray) {\n    return arrayToReturn;\n  }\n  const middleIndex = Math.floor(arrayToReturn.length / 2) - Math.floor(insertedArray.length / 2);\n  let currentIndexOfInsertedArray = 0;\n  for (let i = middleIndex; i < middleIndex + insertedArray.length; i++) {\n    const currentElementOfInsertedArray = insertedArray[currentIndexOfInsertedArray];\n\n    if (\n      currentElementOfInsertedArray &&\n      currentElementOfInsertedArray.split(WORD_INDEX_SEPARATOR)[1].trim()\n    ) {\n      arrayToReturn[i] = currentElementOfInsertedArray;\n    }\n    currentIndexOfInsertedArray++;\n  }\n  return arrayToReturn;\n}\n\nfunction replaceMatrixCenter(mainMatrix, insertedMatrix) {\n  const matrixToReturn = [...mainMatrix];\n  const middleIndex = Math.floor(matrixToReturn.length / 2) - Math.floor(insertedMatrix.length / 2);\n  let currentIndexOfInsertedMatrix = 0;\n  for (let i = middleIndex; i < middleIndex + insertedMatrix.length; i++) {\n    const currentArrayOfMainMatrix = matrixToReturn[i];\n    const currentArrayOfInsertedMatrix = insertedMatrix[currentIndexOfInsertedMatrix];\n    matrixToReturn[i] = replaceArrayCenter(currentArrayOfMainMatrix, currentArrayOfInsertedMatrix);\n    currentIndexOfInsertedMatrix++;\n  }\n  return matrixToReturn;\n}\n\nexport default function HiddenWords({ words }) {\n  const [width, height] = useWindowSize();\n\n  const [hiddenWords, setHiddenWords] = useState(initialBoard);\n\n  const recalculateHiddenWords = useCallback(() => {\n    const isMobile = height > width;\n    const newWidth = isMobile ? width / 40 : width / 60;\n    const newHeight = isMobile ? height / 52 : height / 85;\n\n    const controlledWidth = newWidth > MAXIMUM_BOARD_SIZE ? MAXIMUM_BOARD_SIZE : newWidth;\n    const controlledHeight = newHeight > MAXIMUM_BOARD_SIZE ? MAXIMUM_BOARD_SIZE : newHeight;\n\n    setHiddenWords(\n      replaceMatrixCenter(initialBoard, makeHiddenWords(words, controlledWidth, controlledHeight)),\n    );\n  }, [height, width, words]);\n\n  useTimeoutLimitedEffect(recalculateHiddenWords);\n\n  return (\n    <div className=\"hiddenWords\" onDoubleClick={recalculateHiddenWords}>\n      {hiddenWords.map((row, rowIndex) => (\n        <p className=\"hiddenWords__char\" key={rowIndex}>\n          {row.map((column, columnIndex) => {\n            if (column.length === 1) {\n              return column;\n            }\n\n            const [wordIndex, char] = column.split(WORD_INDEX_SEPARATOR);\n\n            return (\n              <span\n                id={`char-${wordIndex}`}\n                className=\"hiddenWords__char-active\"\n                key={`${rowIndex}${columnIndex}`}\n              >\n                {char}\n              </span>\n            );\n          })}\n        </p>\n      ))}\n    </div>\n  );\n}\n","export function findLongestString(arr) {\n  return arr.reduce((a, b) => (a.length > b.length ? a : b), '');\n}\n","import { useLayoutEffect, useState } from 'react';\n\nexport function useWindowSize() {\n  const [size, setSize] = useState([0, 0]);\n\n  function updateSize() {\n    setSize([window.innerWidth, window.innerHeight]);\n  }\n\n  useLayoutEffect(() => {\n    window.addEventListener('resize', updateSize);\n    updateSize();\n\n    return () => {\n      window.removeEventListener('resize', updateSize);\n    };\n  }, []);\n\n  return size;\n}\n","import { useEffect, useRef } from 'react';\n\nexport function useTimeoutLimitedEffect(reactCallback, timeout = 200) {\n  const limiter = useRef();\n\n  useEffect(() => {\n    clearTimeout(limiter.current);\n\n    limiter.current = setTimeout(reactCallback, timeout);\n  }, [reactCallback, timeout]);\n}\n","import { FaGithub, FaTelegramPlane } from 'react-icons/fa';\n\nimport { author } from '../../../package.json';\n\nimport avatar from '../../images/avatar.jpg';\nimport { linkColor } from '../../utils/styles';\n\nimport HiddenWords from '../HiddenWords/HiddenWords';\n\nimport './Home.scss';\n\nconst customStyles = {\n  github: linkColor('#6e5494'),\n  telegram: linkColor('#0088cc'),\n};\n\nexport default function Home() {\n  return (\n    <section className=\"home\">\n      <HiddenWords words={['develop', 'software', author.name]} />\n\n      <img src={avatar} className=\"home__logo\" alt=\"avatar\" />\n      <p className=\"home__text\">Я Арт, пишу код</p>\n      <nav className=\"home__buttons\">\n        <a\n          className=\"home__button\"\n          href=\"https://github.com/artginzburg\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          style={customStyles.github}\n        >\n          <span className=\"home__button-icon\">\n            <FaGithub />\n          </span>\n          <p className=\"home__button-text\">Код</p>\n        </a>\n        <a\n          className=\"home__button\"\n          href=\"https://t.me/ginzart\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          style={customStyles.telegram}\n        >\n          <span className=\"home__button-icon\">\n            <FaTelegramPlane />\n          </span>\n          <p className=\"home__button-text\">Телеграм</p>\n        </a>\n      </nav>\n    </section>\n  );\n}\n","import Home from './components/Home/Home';\n\nfunction App() {\n  return (\n    <main>\n      <Home />\n    </main>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function to log results (for example: reportWebVitals(console.log)) or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}